{"version":3,"sources":["../../src/utils/forEachState.ts","../../src/utils/getTypeInfo.ts","../../src/utils/SchemaReference.ts","../../src/utils/info-addon.ts","info.ts"],"names":["info","options"],"mappings":"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","file":"static/js/12.dc24e2e6.chunk.js","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction forEachState(stack, fn) {\n    var reverseStateStack = [];\n    var state = stack;\n    while (state && state.kind) {\n        reverseStateStack.push(state);\n        state = state.prevState;\n    }\n    for (var i = reverseStateStack.length - 1; i >= 0; i--) {\n        fn(reverseStateStack[i]);\n    }\n}\nexports.default = forEachState;\n//# sourceMappingURL=forEachState.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar graphql_1 = require(\"graphql\");\nvar introspection_1 = require(\"graphql/type/introspection\");\nvar forEachState_1 = __importDefault(require(\"./forEachState\"));\nfunction getTypeInfo(schema, tokenState) {\n    var info = {\n        schema: schema,\n        type: null,\n        parentType: null,\n        inputType: null,\n        directiveDef: null,\n        fieldDef: null,\n        argDef: null,\n        argDefs: null,\n        objectFieldDefs: null,\n    };\n    forEachState_1.default(tokenState, function (state) {\n        switch (state.kind) {\n            case 'Query':\n            case 'ShortQuery':\n                info.type = schema.getQueryType();\n                break;\n            case 'Mutation':\n                info.type = schema.getMutationType();\n                break;\n            case 'Subscription':\n                info.type = schema.getSubscriptionType();\n                break;\n            case 'InlineFragment':\n            case 'FragmentDefinition':\n                if (state.type) {\n                    info.type = schema.getType(state.type);\n                }\n                break;\n            case 'Field':\n            case 'AliasedField':\n                info.fieldDef =\n                    info.type && state.name\n                        ? getFieldDef(schema, info.parentType, state.name)\n                        : null;\n                info.type = info.fieldDef && info.fieldDef.type;\n                break;\n            case 'SelectionSet':\n                info.parentType = info.type ? graphql_1.getNamedType(info.type) : null;\n                break;\n            case 'Directive':\n                info.directiveDef = state.name ? schema.getDirective(state.name) : null;\n                break;\n            case 'Arguments':\n                var parentDef = state.prevState\n                    ? state.prevState.kind === 'Field'\n                        ? info.fieldDef\n                        : state.prevState.kind === 'Directive'\n                            ? info.directiveDef\n                            : state.prevState.kind === 'AliasedField'\n                                ? state.prevState.name &&\n                                    getFieldDef(schema, info.parentType, state.prevState.name)\n                                : null\n                    : null;\n                info.argDefs = parentDef ? parentDef.args : null;\n                break;\n            case 'Argument':\n                info.argDef = null;\n                if (info.argDefs) {\n                    for (var i = 0; i < info.argDefs.length; i++) {\n                        if (info.argDefs[i].name === state.name) {\n                            info.argDef = info.argDefs[i];\n                            break;\n                        }\n                    }\n                }\n                info.inputType = info.argDef && info.argDef.type;\n                break;\n            case 'EnumValue':\n                var enumType = info.inputType ? graphql_1.getNamedType(info.inputType) : null;\n                info.enumValue =\n                    enumType instanceof graphql_1.GraphQLEnumType\n                        ? find(enumType.getValues(), function (val) { return val.value === state.name; })\n                        : null;\n                break;\n            case 'ListValue':\n                var nullableType = info.inputType\n                    ? graphql_1.getNullableType(info.inputType)\n                    : null;\n                info.inputType =\n                    nullableType instanceof graphql_1.GraphQLList ? nullableType.ofType : null;\n                break;\n            case 'ObjectValue':\n                var objectType = info.inputType ? graphql_1.getNamedType(info.inputType) : null;\n                info.objectFieldDefs =\n                    objectType instanceof graphql_1.GraphQLInputObjectType\n                        ? objectType.getFields()\n                        : null;\n                break;\n            case 'ObjectField':\n                var objectField = state.name && info.objectFieldDefs\n                    ? info.objectFieldDefs[state.name]\n                    : null;\n                info.inputType = objectField && objectField.type;\n                break;\n            case 'NamedType':\n                info.type = state.name ? schema.getType(state.name) : null;\n                break;\n        }\n    });\n    return info;\n}\nexports.default = getTypeInfo;\nfunction getFieldDef(schema, type, fieldName) {\n    if (fieldName === introspection_1.SchemaMetaFieldDef.name && schema.getQueryType() === type) {\n        return introspection_1.SchemaMetaFieldDef;\n    }\n    if (fieldName === introspection_1.TypeMetaFieldDef.name && schema.getQueryType() === type) {\n        return introspection_1.TypeMetaFieldDef;\n    }\n    if (fieldName === introspection_1.TypeNameMetaFieldDef.name && graphql_1.isCompositeType(type)) {\n        return introspection_1.TypeNameMetaFieldDef;\n    }\n    if (type && type.getFields) {\n        return type.getFields()[fieldName];\n    }\n}\nfunction find(array, predicate) {\n    for (var i = 0; i < array.length; i++) {\n        if (predicate(array[i])) {\n            return array[i];\n        }\n    }\n}\n//# sourceMappingURL=getTypeInfo.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getTypeReference = exports.getEnumValueReference = exports.getArgumentReference = exports.getDirectiveReference = exports.getFieldReference = void 0;\nvar graphql_1 = require(\"graphql\");\nfunction getFieldReference(typeInfo) {\n    return {\n        kind: 'Field',\n        schema: typeInfo.schema,\n        field: typeInfo.fieldDef,\n        type: isMetaField(typeInfo.fieldDef) ? null : typeInfo.parentType,\n    };\n}\nexports.getFieldReference = getFieldReference;\nfunction getDirectiveReference(typeInfo) {\n    return {\n        kind: 'Directive',\n        schema: typeInfo.schema,\n        directive: typeInfo.directiveDef,\n    };\n}\nexports.getDirectiveReference = getDirectiveReference;\nfunction getArgumentReference(typeInfo) {\n    return typeInfo.directiveDef\n        ? {\n            kind: 'Argument',\n            schema: typeInfo.schema,\n            argument: typeInfo.argDef,\n            directive: typeInfo.directiveDef,\n        }\n        : {\n            kind: 'Argument',\n            schema: typeInfo.schema,\n            argument: typeInfo.argDef,\n            field: typeInfo.fieldDef,\n            type: isMetaField(typeInfo.fieldDef) ? null : typeInfo.parentType,\n        };\n}\nexports.getArgumentReference = getArgumentReference;\nfunction getEnumValueReference(typeInfo) {\n    return {\n        kind: 'EnumValue',\n        value: typeInfo.enumValue || undefined,\n        type: typeInfo.inputType\n            ? graphql_1.getNamedType(typeInfo.inputType)\n            : undefined,\n    };\n}\nexports.getEnumValueReference = getEnumValueReference;\nfunction getTypeReference(typeInfo, type) {\n    return {\n        kind: 'Type',\n        schema: typeInfo.schema,\n        type: type || typeInfo.type,\n    };\n}\nexports.getTypeReference = getTypeReference;\nfunction isMetaField(fieldDef) {\n    return fieldDef.name.slice(0, 2) === '__';\n}\n//# sourceMappingURL=SchemaReference.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar codemirror_1 = __importDefault(require(\"codemirror\"));\ncodemirror_1.default.defineOption('info', false, function (cm, options, old) {\n    if (old && old !== codemirror_1.default.Init) {\n        var oldOnMouseOver = cm.state.info.onMouseOver;\n        codemirror_1.default.off(cm.getWrapperElement(), 'mouseover', oldOnMouseOver);\n        clearTimeout(cm.state.info.hoverTimeout);\n        delete cm.state.info;\n    }\n    if (options) {\n        var state = (cm.state.info = createState(options));\n        state.onMouseOver = onMouseOver.bind(null, cm);\n        codemirror_1.default.on(cm.getWrapperElement(), 'mouseover', state.onMouseOver);\n    }\n});\nfunction createState(options) {\n    return {\n        options: options instanceof Function\n            ? { render: options }\n            : options === true\n                ? {}\n                : options,\n    };\n}\nfunction getHoverTime(cm) {\n    var options = cm.state.info.options;\n    return (options && options.hoverTime) || 500;\n}\nfunction onMouseOver(cm, e) {\n    var state = cm.state.info;\n    var target = e.target || e.srcElement;\n    if (!(target instanceof HTMLElement)) {\n        return;\n    }\n    if (target.nodeName !== 'SPAN' || state.hoverTimeout !== undefined) {\n        return;\n    }\n    var box = target.getBoundingClientRect();\n    var onMouseMove = function () {\n        clearTimeout(state.hoverTimeout);\n        state.hoverTimeout = setTimeout(onHover, hoverTime);\n    };\n    var onMouseOut = function () {\n        codemirror_1.default.off(document, 'mousemove', onMouseMove);\n        codemirror_1.default.off(cm.getWrapperElement(), 'mouseout', onMouseOut);\n        clearTimeout(state.hoverTimeout);\n        state.hoverTimeout = undefined;\n    };\n    var onHover = function () {\n        codemirror_1.default.off(document, 'mousemove', onMouseMove);\n        codemirror_1.default.off(cm.getWrapperElement(), 'mouseout', onMouseOut);\n        state.hoverTimeout = undefined;\n        onMouseHover(cm, box);\n    };\n    var hoverTime = getHoverTime(cm);\n    state.hoverTimeout = setTimeout(onHover, hoverTime);\n    codemirror_1.default.on(document, 'mousemove', onMouseMove);\n    codemirror_1.default.on(cm.getWrapperElement(), 'mouseout', onMouseOut);\n}\nfunction onMouseHover(cm, box) {\n    var pos = cm.coordsChar({\n        left: (box.left + box.right) / 2,\n        top: (box.top + box.bottom) / 2,\n    });\n    var state = cm.state.info;\n    var options = state.options;\n    var render = options.render || cm.getHelper(pos, 'info');\n    if (render) {\n        var token = cm.getTokenAt(pos, true);\n        if (token) {\n            var info = render(token, options, cm, pos);\n            if (info) {\n                showPopup(cm, box, info);\n            }\n        }\n    }\n}\nfunction showPopup(cm, box, info) {\n    var popup = document.createElement('div');\n    popup.className = 'CodeMirror-info';\n    popup.appendChild(info);\n    document.body.appendChild(popup);\n    var popupBox = popup.getBoundingClientRect();\n    var popupStyle = window.getComputedStyle(popup);\n    var popupWidth = popupBox.right -\n        popupBox.left +\n        parseFloat(popupStyle.marginLeft) +\n        parseFloat(popupStyle.marginRight);\n    var popupHeight = popupBox.bottom -\n        popupBox.top +\n        parseFloat(popupStyle.marginTop) +\n        parseFloat(popupStyle.marginBottom);\n    var topPos = box.bottom;\n    if (popupHeight > window.innerHeight - box.bottom - 15 &&\n        box.top > window.innerHeight - box.bottom) {\n        topPos = box.top - popupHeight;\n    }\n    if (topPos < 0) {\n        topPos = box.bottom;\n    }\n    var leftPos = Math.max(0, window.innerWidth - popupWidth - 15);\n    if (leftPos > box.left) {\n        leftPos = box.left;\n    }\n    popup.style.opacity = '1';\n    popup.style.top = topPos + 'px';\n    popup.style.left = leftPos + 'px';\n    var popupTimeout;\n    var onMouseOverPopup = function () {\n        clearTimeout(popupTimeout);\n    };\n    var onMouseOut = function () {\n        clearTimeout(popupTimeout);\n        popupTimeout = setTimeout(hidePopup, 200);\n    };\n    var hidePopup = function () {\n        codemirror_1.default.off(popup, 'mouseover', onMouseOverPopup);\n        codemirror_1.default.off(popup, 'mouseout', onMouseOut);\n        codemirror_1.default.off(cm.getWrapperElement(), 'mouseout', onMouseOut);\n        if (popup.style.opacity) {\n            popup.style.opacity = '0';\n            setTimeout(function () {\n                if (popup.parentNode) {\n                    popup.parentNode.removeChild(popup);\n                }\n            }, 600);\n        }\n        else if (popup.parentNode) {\n            popup.parentNode.removeChild(popup);\n        }\n    };\n    codemirror_1.default.on(popup, 'mouseover', onMouseOverPopup);\n    codemirror_1.default.on(popup, 'mouseout', onMouseOut);\n    codemirror_1.default.on(cm.getWrapperElement(), 'mouseout', onMouseOut);\n}\n//# sourceMappingURL=info-addon.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar graphql_1 = require(\"graphql\");\nvar codemirror_1 = __importDefault(require(\"codemirror\"));\nvar getTypeInfo_1 = __importDefault(require(\"./utils/getTypeInfo\"));\nvar SchemaReference_1 = require(\"./utils/SchemaReference\");\nrequire(\"./utils/info-addon\");\ncodemirror_1.default.registerHelper('info', 'graphql', function (token, options) {\n    if (!options.schema || !token.state) {\n        return;\n    }\n    var state = token.state;\n    var kind = state.kind;\n    var step = state.step;\n    var typeInfo = getTypeInfo_1.default(options.schema, token.state);\n    if ((kind === 'Field' && step === 0 && typeInfo.fieldDef) ||\n        (kind === 'AliasedField' && step === 2 && typeInfo.fieldDef)) {\n        var into = document.createElement('div');\n        renderField(into, typeInfo, options);\n        renderDescription(into, options, typeInfo.fieldDef);\n        return into;\n    }\n    else if (kind === 'Directive' && step === 1 && typeInfo.directiveDef) {\n        var into = document.createElement('div');\n        renderDirective(into, typeInfo, options);\n        renderDescription(into, options, typeInfo.directiveDef);\n        return into;\n    }\n    else if (kind === 'Argument' && step === 0 && typeInfo.argDef) {\n        var into = document.createElement('div');\n        renderArg(into, typeInfo, options);\n        renderDescription(into, options, typeInfo.argDef);\n        return into;\n    }\n    else if (kind === 'EnumValue' &&\n        typeInfo.enumValue &&\n        typeInfo.enumValue.description) {\n        var into = document.createElement('div');\n        renderEnumValue(into, typeInfo, options);\n        renderDescription(into, options, typeInfo.enumValue);\n        return into;\n    }\n    else if (kind === 'NamedType' &&\n        typeInfo.type &&\n        typeInfo.type.description) {\n        var into = document.createElement('div');\n        renderType(into, typeInfo, options, typeInfo.type);\n        renderDescription(into, options, typeInfo.type);\n        return into;\n    }\n});\nfunction renderField(into, typeInfo, options) {\n    renderQualifiedField(into, typeInfo, options);\n    renderTypeAnnotation(into, typeInfo, options, typeInfo.type);\n}\nfunction renderQualifiedField(into, typeInfo, options) {\n    var _a;\n    var fieldName = ((_a = typeInfo.fieldDef) === null || _a === void 0 ? void 0 : _a.name) || '';\n    if (fieldName.slice(0, 2) !== '__') {\n        renderType(into, typeInfo, options, typeInfo.parentType);\n        text(into, '.');\n    }\n    text(into, fieldName, 'field-name', options, SchemaReference_1.getFieldReference(typeInfo));\n}\nfunction renderDirective(into, typeInfo, options) {\n    var _a;\n    var name = '@' + (((_a = typeInfo.directiveDef) === null || _a === void 0 ? void 0 : _a.name) || '');\n    text(into, name, 'directive-name', options, SchemaReference_1.getDirectiveReference(typeInfo));\n}\nfunction renderArg(into, typeInfo, options) {\n    var _a;\n    if (typeInfo.directiveDef) {\n        renderDirective(into, typeInfo, options);\n    }\n    else if (typeInfo.fieldDef) {\n        renderQualifiedField(into, typeInfo, options);\n    }\n    var name = ((_a = typeInfo.argDef) === null || _a === void 0 ? void 0 : _a.name) || '';\n    text(into, '(');\n    text(into, name, 'arg-name', options, SchemaReference_1.getArgumentReference(typeInfo));\n    renderTypeAnnotation(into, typeInfo, options, typeInfo.inputType);\n    text(into, ')');\n}\nfunction renderTypeAnnotation(into, typeInfo, options, t) {\n    text(into, ': ');\n    renderType(into, typeInfo, options, t);\n}\nfunction renderEnumValue(into, typeInfo, options) {\n    var _a;\n    var name = ((_a = typeInfo.enumValue) === null || _a === void 0 ? void 0 : _a.name) || '';\n    renderType(into, typeInfo, options, typeInfo.inputType);\n    text(into, '.');\n    text(into, name, 'enum-value', options, SchemaReference_1.getEnumValueReference(typeInfo));\n}\nfunction renderType(into, typeInfo, options, t) {\n    if (t instanceof graphql_1.GraphQLNonNull) {\n        renderType(into, typeInfo, options, t.ofType);\n        text(into, '!');\n    }\n    else if (t instanceof graphql_1.GraphQLList) {\n        text(into, '[');\n        renderType(into, typeInfo, options, t.ofType);\n        text(into, ']');\n    }\n    else {\n        text(into, (t === null || t === void 0 ? void 0 : t.name) || '', 'type-name', options, SchemaReference_1.getTypeReference(typeInfo, t));\n    }\n}\nfunction renderDescription(into, options, def) {\n    var description = def.description;\n    if (description) {\n        var descriptionDiv = document.createElement('div');\n        descriptionDiv.className = 'info-description';\n        if (options.renderDescription) {\n            descriptionDiv.innerHTML = options.renderDescription(description);\n        }\n        else {\n            descriptionDiv.appendChild(document.createTextNode(description));\n        }\n        into.appendChild(descriptionDiv);\n    }\n    renderDeprecation(into, options, def);\n}\nfunction renderDeprecation(into, options, def) {\n    var reason = def.deprecationReason;\n    if (reason) {\n        var deprecationDiv = document.createElement('div');\n        deprecationDiv.className = 'info-deprecation';\n        if (options.renderDescription) {\n            deprecationDiv.innerHTML = options.renderDescription(reason);\n        }\n        else {\n            deprecationDiv.appendChild(document.createTextNode(reason));\n        }\n        var label = document.createElement('span');\n        label.className = 'info-deprecation-label';\n        label.appendChild(document.createTextNode('Deprecated: '));\n        deprecationDiv.insertBefore(label, deprecationDiv.firstChild);\n        into.appendChild(deprecationDiv);\n    }\n}\nfunction text(into, content, className, options, ref) {\n    if (className === void 0) { className = ''; }\n    if (options === void 0) { options = { onClick: null }; }\n    if (ref === void 0) { ref = null; }\n    if (className) {\n        var onClick_1 = options.onClick;\n        var node = void 0;\n        if (onClick_1) {\n            node = document.createElement('a');\n            node.href = 'javascript:void 0';\n            node.addEventListener('click', function (e) {\n                onClick_1(ref, e);\n            });\n        }\n        else {\n            node = document.createElement('span');\n        }\n        node.className = className;\n        node.appendChild(document.createTextNode(content));\n        into.appendChild(node);\n    }\n    else {\n        into.appendChild(document.createTextNode(content));\n    }\n}\n//# sourceMappingURL=info.js.map"],"sourceRoot":""}